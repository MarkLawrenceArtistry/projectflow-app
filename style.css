:root {
    --bg-color:#F7F7F7; --main-bg:#FFFFFF; --text-color:#2c3e50; --text-light:#7f8c8d; --accent-color:#e74c3c; --accent-dark:#c0392b; --sidebar-bg:#212529; --sidebar-text:#ecf0f1; --border-color:#e0e0e0; --shadow-color:rgba(0,0,0,0.05); --danger-color:#e74c3c; --priority-high:#e74c3c; --priority-medium:#f39c12; --priority-low:#3498db;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;overflow:hidden}
body{font-family:'Inter',sans-serif;background-color:var(--bg-color);color:var(--text-color);font-size:16px;line-height:1.6}
h1,h2,h3{font-weight:600;line-height:1.3}h1{font-size:2rem}h2{font-size:1.5rem}h3{font-size:1.1rem}
#app-container{display:grid;grid-template-columns:260px 1fr;height:100vh}
#sidebar{background-color:var(--sidebar-bg);color:var(--sidebar-text);display:flex;flex-direction:column;z-index:1001;overflow-y:auto;overflow-x:hidden}
.sidebar-header{padding:24px;display:flex;align-items:center;position:sticky;top:0;background:var(--sidebar-bg);z-index:1}
.project-management-section{padding:16px 24px;border-top:1px solid rgba(255,255,255,.1);border-bottom:1px solid rgba(255,255,255,.1)}
.project-selector-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.sidebar-nav ul{list-style:none;padding:16px 0}
.sidebar-nav .nav-link{display:block;color:var(--sidebar-text);padding:12px 24px;font-weight:500;border-left:3px solid transparent;transition:background-color .2s,border-left-color .2s}
.sidebar-nav .nav-link:hover{background-color:rgba(255,255,255,.05)}
.sidebar-nav .nav-link.active{background-color:rgba(255,255,255,.1);border-left-color:var(--accent-color);color:#fff}
.sidebar-footer{margin-top:auto;padding:16px 24px;display:grid;gap:10px;border-top:1px solid rgba(255,255,255,.1)}
#main-content{padding:32px;overflow-y:auto;position:relative}
.view{display:none}.view.active{display:block;animation:fadeIn .4s ease-in-out}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.view-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;flex-wrap:wrap;gap:16px}
.content-container{display:grid;gap:16px}
.card{background-color:var(--main-bg);border-radius:8px;padding:24px;box-shadow:0 4px 12px var(--shadow-color);width:100%}
.btn{display:inline-block;padding:10px 20px;border-radius:6px;border:none;font-weight:500;font-size:.95rem;cursor:pointer;transition:all .2s ease-in-out;background-color:var(--border-color);color:var(--text-color)}
.btn:hover{transform:translateY(-2px);box-shadow:0 2px 8px rgba(0,0,0,.1)}
.btn.btn-primary{background-color:var(--accent-color);color:#fff}.btn.btn-primary:hover{background-color:var(--accent-dark)}
.btn.btn-danger{background-color:var(--danger-color);color:#fff}
.btn.btn-small{padding:8px 12px;font-size:.85rem;width:100%;text-align:center}
.btn-icon{background:0 0;border:none;cursor:pointer;padding:4px;color:var(--text-light);border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}
.item-actions .btn-icon:hover{background-color:var(--bg-color);color:var(--text-color)}
.form-input,.form-select{width:100%;padding:10px;border:1px solid var(--border-color);border-radius:6px;font-size:1rem;background-color:var(--main-bg)}
.form-input:focus,.form-select:focus{outline:0;border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(231,76,60,.2)}
.form-group{margin-bottom:16px}.form-group label{display:block;margin-bottom:8px;font-weight:500}
.form-group input[type=file]{display:none}.form-group input[type=color]{width:50px;height:30px;padding:2px;border:1px solid var(--border-color);cursor:pointer}
.custom-file-upload{border:1px solid var(--border-color);display:inline-block;padding:8px 12px;cursor:pointer;border-radius:6px;background-color:var(--bg-color)}
.avatar-preview{width:80px;height:80px;border-radius:50%;background-color:var(--bg-color);margin-top:10px;background-size:cover;background-position:center;border:2px solid var(--border-color)}
#team-grid {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
}
.team-member-card {
    padding: 24px;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.team-member-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0,0,0,0.07);
}
.team-member-card h3 {
    font-size: 1.25rem;
    margin-bottom: 4px;
}
.team-member-card p {
    color: var(--text-light);
    margin-bottom: 16px;
}
.member-card-tasks {
    font-size: 0.85rem;
    color: var(--text-light);
    border-top: 1px solid var(--border-color);
    padding-top: 12px;
}
.member-card-tasks ul {
    list-style-type: none;
    padding-left: 0;
}
.member-card-tasks li {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    padding: 2px 0;
}
.item-actions{margin-left:auto;display:flex;gap:8px;align-items:center}
.task-item{display:flex;align-items:center;gap:16px;padding:16px}
.task-item-checkbox{width:20px;height:20px;border:2px solid var(--border-color);border-radius:4px;cursor:pointer;flex-shrink:0;-webkit-appearance:none;appearance:none}
.task-item-checkbox:checked{background-color:var(--accent-color);border-color:var(--accent-color);background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e")}
.task-item-info{display:flex;flex-direction:column;gap:4px}
.task-name{font-weight:500}.task-name.completed{text-decoration:line-through;color:var(--task-completed-text)}
.task-metadata{font-size:.85rem;color:var(--text-light);display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.priority-pill{padding:2px 8px;border-radius:12px;font-size:.75rem;font-weight:600;color:#fff}
.priority-pill.high{background-color:var(--priority-high)}.priority-pill.medium{background-color:var(--priority-medium)}.priority-pill.low{background-color:var(--priority-low)}
.tabs{margin-bottom:24px;border-bottom:1px solid var(--border-color);display:flex;gap:24px}
.tab-link{padding:8px 16px;border:none;background:0 0;cursor:pointer;font-size:1rem;font-weight:500;color:var(--text-light);border-bottom:3px solid transparent;margin-bottom:-1px}
.tab-link.active{color:var(--text-color);border-bottom-color:var(--accent-color)}
.tab-content{display:none}.tab-content.active{display:grid}
.task-filters{display:flex;gap:16px;padding:16px;margin-bottom:16px;}
.status-item{display:grid;grid-template-columns:200px 1fr auto;align-items:center;gap:24px;padding:16px}
.status-item-info{display:flex;flex-direction:column}
.status-item-name{font-weight:600}
.status-item-percentage-text{font-size:.9rem;color:var(--text-light)}
.status-progress-bar-container{height:8px;width:100%;background-color:var(--bg-color);border-radius:4px;overflow:hidden}
.status-progress-bar-fill{height:100%;transition:width .3s ease}
#modal-container{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1001;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s}
#modal-container.visible{opacity:1;visibility:visible}
.modal-backdrop{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.6)}
.modal-content{position:relative;background-color:var(--main-bg);padding:24px;border-radius:8px;width:90%;max-width:500px;z-index:1002;transform:translateY(-20px);transition:transform .3s}
#modal-container.visible .modal-content{transform:translateY(0)}
.modal-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:16px;margin-bottom:16px;border-bottom:1px solid var(--border-color)}
#modal-close-btn{font-size:2rem;font-weight:300;line-height:1;color:var(--text-color)}
#modal-close-btn:hover{color:var(--accent-color);background:0 0}
.modal-body{max-height:70vh;overflow-y:auto}
#loader{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,.8);z-index:9999;display:flex;align-items:center;justify-content:center;visibility:hidden;opacity:0;transition:opacity .3s,visibility .3s}
#loader.visible{visibility:visible;opacity:1}
.spinner{width:50px;height:50px;border:5px solid var(--border-color);border-top-color:var(--accent-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}
[data-tooltip]{position:relative}[data-tooltip]::after{content:attr(data-tooltip);position:absolute;bottom:120%;left:50%;transform:translateX(-50%);background-color:var(--text-color);color:#fff;padding:6px 12px;border-radius:4px;font-size:.85rem;white-space:nowrap;opacity:0;visibility:hidden;transition:all .2s;z-index:100;pointer-events:none}
[data-tooltip]:hover::after{opacity:1;visibility:visible;transform:translateX(-50%) translateY(-4px)}
#mobile-menu-toggle{display:none;position:fixed;top:16px;left:16px;z-index:1002;background-color:var(--main-bg);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);color:var(--text-color)}
.gantt-chart-container{padding:0;display:flex;flex-direction:column;min-height:500px}
.gantt-body{display:flex;gap:24px;padding:16px;flex-grow:1;min-height:0}
.gantt-zoom-controls{display:flex;flex-direction:column;gap:8px;flex-shrink:0}
.gantt-zoom-controls button{width:100px;padding:8px 12px;background-color:var(--bg-color);border:1px solid var(--border-color);font-weight:500}
.gantt-zoom-controls button:hover{background-color:var(--border-color);transform:none;box-shadow:none}
.gantt-zoom-controls button.active{background-color:var(--accent-color);color:#fff;border-color:var(--accent-color)}
.gantt-timeline-wrapper{flex-grow:1;overflow-x:auto;position:relative;border-left:1px solid var(--border-color);padding-left:10px}
.gantt-timeline-header{display:flex;position:sticky;top:0;background-color:var(--main-bg);z-index:10;padding-bottom:5px;border-bottom:2px solid var(--border-color)}
.gantt-timeline-unit{flex-shrink:0;text-align:center;font-size:12px;color:var(--text-light);border-right:1px solid var(--border-color);padding:0 5px}
.gantt-grid{position:relative;background-image:linear-gradient(to right,var(--border-color) 1px,transparent 1px)}
.gantt-phase-bar{position:absolute;height:35px;border-radius:4px;display:flex;align-items:center;justify-content:space-between;color:#fff;user-select:none;padding:0 12px;cursor:pointer;transition:filter .2s}
.gantt-phase-bar:hover{filter:brightness(1.1)}.gantt-phase-bar.active{box-shadow:0 0 0 3px var(--accent-dark);z-index:5}
.gantt-phase-name{font-weight:500;pointer-events:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.gantt-delete-btn{font-size:1.3rem;line-height:1;color:#fff;background-color:rgba(0,0,0,.3);border-radius:50%;width:24px;height:24px;border:none;cursor:pointer;display:none;flex-shrink:0;margin-left:8px}
.gantt-phase-bar:hover .gantt-delete-btn{display:flex;align-items:center;justify-content:center}
.gantt-delete-btn:hover{background-color:rgba(0,0,0,.5)}
.gantt-edit-form-container{padding:24px;border-top:2px solid var(--border-color);display:none}
.gantt-edit-form-container.visible{display:block;animation:fadeIn .3s}
.table-container{overflow-x:auto}.styled-table{width:100%;border-collapse:collapse}
.styled-table thead th{background-color:var(--bg-color);padding:12px;text-align:left;font-weight:600;border-bottom:2px solid var(--border-color)}
.styled-table tbody td{padding:12px;border-bottom:1px solid var(--border-color)}
.profile-header{display:flex;gap:24px;align-items:center;margin-bottom:32px}
.profile-avatar{width:100px;height:100px;flex-shrink:0}
.profile-info h2{margin:0;font-size:1.8rem}
.profile-rating{font-size:1.1rem;font-weight:600}
.profile-rating.excellent{color:#27ae60}.profile-rating.good{color:#2980b9}.profile-rating.needs-improvement{color:#f39c12}
*::-webkit-scrollbar{width:8px;height:8px} *::-webkit-scrollbar-track{background:var(--bg-color)} *::-webkit-scrollbar-thumb{background-color:#c1c1c1;border-radius:10px;border:2px solid var(--bg-color)} *::-webkit-scrollbar-thumb:hover{background-color:#a8a8a8}
@media (max-width:992px){
#app-container{grid-template-columns:1fr}
#sidebar{position:fixed;height:100%;transform:translateX(-100%);box-shadow:4px 0 15px rgba(0,0,0,.2)}
#sidebar.open{transform:translateX(0)}
#main-content{padding:16px;padding-top:64px}
#mobile-menu-toggle{display:flex}
.status-item{grid-template-columns:1fr;text-align:center}.item-actions{justify-content:center}
.profile-header{flex-direction:column;text-align:center}
.task-filters{flex-direction:column}
.task-item{flex-wrap: wrap;}
}

/* Auth View Styles */
#auth-view {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100vw;
    height: 100vh;
    background-color: var(--bg-color);
}
.auth-container {
    width: 100%;
    max-width: 400px;
}
.auth-form-container {
    padding: 32px;
    background-color: var(--main-bg);
    border-radius: 8px;
    box-shadow: 0 4px 12px var(--shadow-color);
}
.auth-toggle {
    margin-top: 16px;
    text-align: center;
    font-size: 0.9em;
}

/* Admin Table Styles */
.styled-table .item-actions {
    justify-content: flex-end;
}

.emoji-avatar {
    font-size: 2.5rem; /* Makes the emoji larger */
    line-height: 1;
    flex-shrink: 0;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--bg-color);
    border-radius: 50%;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
}
.stat-card { text-align: center; }
.stat-big-number { font-size: 3rem; font-weight: 700; color: var(--accent-color); margin: 8px 0; }
.progress-bar-container { height: 8px; width: 100%; background-color: var(--bg-color); border-radius: 4px; overflow: hidden; margin-top: 8px; }
.progress-bar-fill { height: 100%; background-color: var(--accent-color); transition: width .3s ease; }
.empty-state { color: var(--text-light); padding-top: 16px; text-align: center; }

.dashboard-task-list {
    margin-top: 16px;
    max-height: 250px;
    overflow-y: auto;
    padding-right: 10px;
}
.dashboard-task-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid var(--border-color);
    font-size: 0.9em;
}
.dashboard-task-item:last-child { border-bottom: none; }
.task-due-date { color: var(--text-light); flex-shrink: 0; margin-left: 16px; }

.dashboard-status-list {
    margin-top: 16px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}
.dashboard-status-info {
    display: flex;
    justify-content: space-between;
    font-size: 0.9em;
}

@media (max-width: 992px) {
    .dashboard-grid {
        grid-template-columns: 1fr;
    }
}

#offline-banner {
    position: fixed;
    bottom: -100px; /* Start hidden below the screen */
    left: 50%;
    transform: translateX(-50%);
    background-color: #2c3e50;
    color: #ecf0f1;
    padding: 12px 24px;
    border-radius: 8px 8px 0 0;
    z-index: 9999;
    font-weight: 500;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
    transition: bottom 0.5s ease-in-out;
}

body.offline #offline-banner {
    bottom: 0; /* Slide in when offline */
}

textarea {
    font-family: 'Inter',sans-serif;
    color: #404142;
}

/* PINPOINT: Add this CSS to the end of your style.css file */

.task-item {
    align-items: flex-start; /* Align checkbox to the top */
}

.task-item-main {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    gap: 12px;
}

.task-item-actions {
    display: flex;
    gap: 8px;
    align-items: center;
}

.task-status-indicator {
    margin-right: 8px;
    font-size: 0.9em;
}

.btn.btn-small.btn-ack {
    background-color: #27ae60;
    color: white;
}
.btn.btn-small.btn-ack:hover {
    background-color: #2ecc71;
}

.btn.btn-small.btn-details {
    background-color: var(--bg-color);
    color: var(--text-color);
}
.btn.btn-small.btn-details:hover {
    background-color: var(--border-color);
}

/* Task Detail Modal Styles */
.task-detail-section {
    margin-bottom: 20px;
}
.task-detail-section:last-child {
    margin-bottom: 0;
}
.task-detail-section h4 {
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 8px;
    margin-bottom: 12px;
}
.task-detail-section p {
    line-height: 1.7;
    white-space: pre-wrap; /* Respect line breaks in description */
}
.task-detail-section ul {
    list-style: none;
    padding: 0;
}
.task-detail-section ul li {
    padding: 6px 0;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* PINPOINT: Add this CSS to the end of your style.css file */

.task-name-wrapper {
    display: flex;
    align-items: center;
}

.task-status-indicator {
    margin-right: 8px;
    font-size: 0.9em;
    display: inline-flex;
    align-items: center;
}
.task-status-indicator.pending {
    color: var(--priority-medium);
}
.task-status-indicator.ack {
    color: #27ae60;
}
/* PINPOINT: Add this CSS to the end of your style.css file */

/* Who's Online Widget */
.online-user-list {
    margin-top: 16px;
    max-height: 250px;
    overflow-y: auto;
    padding-right: 10px;
}
.online-user-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 0;
    border-bottom: 1px solid var(--border-color);
}
.online-user-item:last-child {
    border-bottom: none;
}
.online-indicator {
    width: 10px;
    height: 10px;
    background-color: #2ecc71;
    border-radius: 50%;
    flex-shrink: 0;
}
.online-user-role {
    margin-left: auto;
    font-size: 0.8em;
    color: var(--text-light);
    background-color: var(--bg-color);
    padding: 2px 8px;
    border-radius: 10px;
}
.dashboard-grid {
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}


/* PINPOINT: Add this CSS to the end of your style.css file */

.btn.btn-small.btn-done {
    background-color: var(--priority-low);
    color: white;
}
.btn.btn-small.btn-approve {
    background-color: #27ae60;
    color: white;
}
/* PINPOINT: In style.css, REMOVE all the old .task-progress-slider CSS rules and REPLACE them with this entire block. */
.btn.btn-small.btn-restore {
    background-color: var(--text-light);
    color: white;
}

.task-progress-container {
    display: flex;
    align-items: center;
    gap: 16px;
    margin: 8px 0;
}
.task-progress-percentage {
    font-size: 0.9em;
    color: var(--text-light);
    font-weight: 500;
    flex-shrink: 0;
    min-width: 40px;
    text-align: right;
}

/* --- The New Slider --- */
.task-progress-slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 6px;
    background: linear-gradient(to right, var(--accent-color) var(--progress-percent), #e9ecef var(--progress-percent));
    border-radius: 3px;
    outline: none;
    cursor: pointer;
    transition: background 0.1s ease;
}

/* Slider Thumb (The Draggable Circle) */
.task-progress-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 18px;
    width: 18px;
    background: var(--accent-color);
    border-radius: 50%;
    border: 3px solid white;
    box-shadow: 0 1px 4px rgba(0,0,0,0.25);
    margin-top: -6px; /* Center thumb on the track */
}

.task-progress-slider::-moz-range-thumb {
    height: 12px;
    width: 12px;
    background: var(--accent-color);
    border-radius: 50%;
    border: 3px solid white;
    box-shadow: 0 1px 4px rgba(0,0,0,0.25);
}

/* PINPOINT: Add this CSS to the end of your style.css file */

.btn.btn-small.btn-complete-shortcut {
    background-color: #27ae60;
    color: white;
}